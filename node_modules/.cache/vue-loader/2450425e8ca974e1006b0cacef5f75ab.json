{"remainingRequest":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\src\\components\\NuevoAnuncio.vue?vue&type=style&index=0&id=12b2aefc&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\src\\components\\NuevoAnuncio.vue","mtime":1637857501000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\cristian-alexis-garcia\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJ0bi1vdXRsaW5lLWNhbmNlbCB7CiAgY29sb3I6ICNmZjc0MDIgIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6ICNmZjc0MDIgIWltcG9ydGFudDsKfQoKLmJ0bi1vdXRsaW5lLWNhbmNlbDpob3ZlciB7CiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY3NDAyICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWNvbG9yOiAjZmY3NDAyICFpbXBvcnRhbnQ7Cn0KCi5idG4tb3V0bGluZS1jYW5jZWw6Zm9jdXMsCi5idG4tb3V0bGluZS1jYW5jZWwuZm9jdXMgewogIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDQzLCAxNDcsIDcyLCAwLjUpICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["NuevoAnuncio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0gBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"NuevoAnuncio.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!--MODAL-->\n    <b-modal\n      size=\"xl\"\n      ref=\"modal\"\n      hide-footer\n      no-close-on-backdrop\n      no-close-on-esc\n    >\n      <template #modal-header>\n        <div class=\"modal-header bg-dark col-12\">\n          <h3 class=\"modal-tittle mx-auto text-white\">\n            <strong\n              ><font-awesome-icon :icon=\"['fas', 'plus-square']\" /> Nuevo\n              Anuncio</strong\n            >\n          </h3>\n        </div>\n      </template>\n\n      <div class=\"modal-body\">\n        <div class=\"container\">\n          <form class=\"was-validated\">\n            <div class=\"row\">\n              <!-- ESPECIFICACIONES -->\n              <div\n                class=\"\n                  col-12 col-lg-6\n                  bg-light\n                  border\n                  rounded-lg\n                  shadow-sm\n                  p-3\n                  my-2\n                  order-3 order-lg-1\n                \"\n              >\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>Estado:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <div class=\"form-check form-check-inline\">\n                      <input\n                        class=\"form-check-input\"\n                        type=\"radio\"\n                        name=\"state\"\n                        id=\"stateNew\"\n                        value=\"Nuevo\"\n                        v-model=\"nuevoAnuncio.estado\"\n                        required\n                      />\n                      <label class=\"form-check-label\" for=\"stateNew\"\n                        >Nuevo</label\n                      >\n                    </div>\n\n                    <div class=\"form-check form-check-inline\">\n                      <input\n                        class=\"form-check-input\"\n                        type=\"radio\"\n                        name=\"state\"\n                        id=\"stateOld\"\n                        value=\"Usado\"\n                        v-model=\"nuevoAnuncio.estado\"\n                        required\n                      />\n                      <label class=\"form-check-label\" for=\"stateOld\"\n                        >Usado</label\n                      >\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>Marca:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <select\n                      class=\"form-control\"\n                      id=\"brand\"\n                      required\n                      v-model=\"nuevoAnuncio.marca\"\n                    >\n                      <option selected disabled value=\"\">Marca...</option>\n                      <option>Samsung</option>\n                      <option>Huawei</option>\n                      <option>Apple</option>\n                      <option>Xiaomi</option>\n                      <option>Nokia</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>Modelo:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      id=\"model\"\n                      v-model=\"nuevoAnuncio.modelo\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>Pantalla (in):</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <input\n                      type=\"number\"\n                      name=\"pantalla\"\n                      class=\"form-control\"\n                      step=\"0.1\"\n                      v-model=\"nuevoAnuncio.pantalla\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>Sistema:</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <select\n                      class=\"form-control\"\n                      id=\"os\"\n                      required\n                      v-model=\"nuevoAnuncio.sistema\"\n                    >\n                      <option selected disabled value=\"\">Sistema...</option>\n                      <option>Android</option>\n                      <option>IOS</option>\n                      <option>Windows</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>ROM (GB):</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <input\n                      type=\"number\"\n                      name=\"rom\"\n                      class=\"form-control\"\n                      step=\"1\"\n                      v-model=\"nuevoAnuncio.rom\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-4 col-lg-3\">\n                    <label>RAM (GB):</label>\n                  </div>\n                  <div class=\"col-6\">\n                    <input\n                      type=\"number\"\n                      name=\"ram\"\n                      class=\"form-control\"\n                      step=\"1\"\n                      v-model=\"nuevoAnuncio.ram\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n              <!-- ESPECIFICACIONES -->\n\n              <!--INFORMACION-->\n              <div class=\"col-12 col-lg-6 p-3 my-2 order-2\">\n                <div class=\"row my-2\">\n                  <div class=\"col-3\">\n                    <label>Titulo:</label>\n                  </div>\n                  <div class=\"col-12 col-sm\">\n                    <input\n                      id=\"title\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"nuevoAnuncio.titulo\"\n                      required\n                    />\n                    <small id=\"titleHelp\" class=\"form-text text-muted\">\n                      Marca y Modelo.\n                    </small>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-3\">\n                    <label>Subtitulo:</label>\n                  </div>\n                  <div class=\"col-12 col-sm\">\n                    <input\n                      id=\"subTitle\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"nuevoAnuncio.subtitulo\"\n                      required\n                    />\n                    <small id=\"subTitleHelp\" class=\"form-text text-muted\">\n                      Inf. General: RAM, ROM, Tipo de Pantalla, etc.\n                    </small>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-3\">\n                    <label>Vendedor:</label>\n                  </div>\n                  <div class=\"col-12 col-sm\">\n                    <input\n                      id=\"seller\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"nuevoAnuncio.vendedor\"\n                      required\n                    />\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-3\">\n                    <label>Telefono:</label>\n                  </div>\n                  <div class=\"col-12 col-sm\">\n                    <input\n                      id=\"tel\"\n                      type=\"tel\"\n                      class=\"form-control\"\n                      required\n                      v-model=\"nuevoAnuncio.telefono\"\n                    />\n                    <small id=\"telHelp\" class=\"form-text text-muted\">\n                      Region + telefono.\n                    </small>\n                  </div>\n                </div>\n                <div class=\"row form-group my-2\">\n                  <div class=\"col-3\">\n                    <label>Descripcion:</label>\n                  </div>\n                  <div class=\"col-12 col-sm\">\n                    <textarea\n                      id=\"descripcion\"\n                      class=\"form-control\"\n                      v-model=\"nuevoAnuncio.descripcion\"\n                      required\n                    ></textarea>\n                  </div>\n                </div>\n                <div class=\"row my-2\">\n                  <div class=\"col-3\">\n                    <label>Precio:</label>\n                  </div>\n                  <div class=\"col-auto col-lg-3\">\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      required\n                      v-model=\"nuevoAnuncio.precio\"\n                      class=\"form-control\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <!--INFORMACION-->\n\n              <!--IMAGENES-->\n              <div\n                class=\"\n                  col-12 col-lg-6\n                  bg-light\n                  border\n                  rounded-lg\n                  shadow-sm\n                  p-3\n                  my-2\n                  order-1 order-lg-3\n                \"\n              >\n                <!-- CAROUSEL -->\n                <div class=\"row d-lg-flex\">\n                  <div class=\"col-12\">\n                    <template>\n                      <div>\n                        <b-carousel\n                          indicators\n                          controls\n                          :interval=\"4000\"\n                          id=\"imgAnuncio\"\n                          class=\"carousel slide\"\n                          v-if=\"previewImages.length > 0\"\n                        >                        \n                          <div\n                            class=\"carousel-item active\"\n                            v-for=\"(imagen, id) in previewImages\"\n                            :key=\"id\"\n                          >\n                            <b-img\n                              :src=\"imagen\"\n                              class=\"d-block w-100 rounded-lg\"\n                              alt=\"...\"\n                            />\n\n                            <div class=\"carousel-caption d-md-grid\">\n                              <button\n                                class=\"btn btn-danger btn-lg\"\n                                type=\"button\"\n                                @click=\"delImage(id)\"\n                              >\n                                <b-icon-trash-fill />\n                              </button>\n                            </div>\n                          </div>\n                        </b-carousel>\n                      </div>\n                    </template>\n                  </div>\n                </div>\n                <div class=\"row d-lg-flex\">\n                  <div class=\"col-12 my-auto mx-auto text-center mt-2\">\n                    <input\n                      class=\"form-control\"\n                      @change=\"selectImages($event)\"\n                      type=\"file\"\n                      id=\"formFile\"\n                      accept=\"image/*\"\n                      required\n                      multiple\n                      style=\"display: none;\"\n                    />\n\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-dark btn-lg\"\n                      @click=\"openUpload\"\n                      id=\"save\"\n                    >\n                      Agregar Imagen\n                      <font-awesome-icon :icon=\"['fas', 'plus-square']\" />\n                    </button>\n                  </div>\n                </div>\n                <!-- CAROUSEL -->\n              </div>\n              <!-- IMAGENES -->\n\n              <!--BUTTONS-->\n              <div class=\"col-12 col-lg-6 mt-auto mb-auto text-center order-4\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-cancel btn-lg\"\n                  @click=\"hideModal\"\n                >\n                  Cancelar\n                  <font-awesome-icon :icon=\"['fas', 'times']\" />\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-dark btn-lg ml-md-3 ml-1\"\n                  @click=\"save\"\n                  id=\"save\"\n                  :disabled=\"deshabilitar\"\n                  \n                >\n                  Guardar\n                  <font-awesome-icon :icon=\"['fas', 'check']\" />\n                </button>\n              </div>\n              <!-- BUTTONS -->\n            </div>\n          </form>\n        </div>\n      </div>\n    </b-modal>\n    <!-- MODAL -->\n  </div>\n</template>\n\n<script>\nimport { db } from \"../db\";\nimport { storage } from \"../db\";\n\nexport default {\n  name: \"NuevoAnuncio\",\n  props: [\"modal\", \"idAnuncio\"],\n  data() {\n    return {\n      show: false, //Variable que controla el muestreo del modal, variable que se envia al componente padre con un $emit\n      bandera: false,\n      slide: 0,\n      sliding: null,\n      upImages: [],\n      previewImages: [],\n      autId: 0,\n      today: new Date(),\n\n      //Campos del formulario\n      nuevoAnuncio: {\n        idAnuncio: 0,\n        estado: \"\",\n        marca: \"\",\n        modelo: \"\",\n        pantalla: null,\n        sistema: \"\",\n        rom: null,\n        ram: null,\n        titulo: \"\",\n        subtitulo: \"\",\n        vendedor: \"\",\n        telefono: \"\",\n        descripcion: \"\",\n        precio: null,\n        fecha: null,\n      },\n      //Campos del formulario\n    };\n  },\n\n  computed: {\n    deshabilitar: function () {\n      let _this = this;\n      if (\n        !_this.nuevoAnuncio.estado ||\n        !_this.nuevoAnuncio.marca ||\n        !_this.nuevoAnuncio.modelo ||\n        !_this.nuevoAnuncio.pantalla ||\n        !_this.nuevoAnuncio.sistema ||\n        !_this.nuevoAnuncio.rom ||\n        !_this.nuevoAnuncio.ram ||\n        !_this.nuevoAnuncio.titulo ||\n        !_this.nuevoAnuncio.subtitulo ||\n        !_this.nuevoAnuncio.vendedor ||\n        !_this.nuevoAnuncio.telefono ||\n        !_this.nuevoAnuncio.descripcion ||\n        !_this.nuevoAnuncio.precio ||\n        _this.upImages.length === 0\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n\n  mounted() {\n    this.show = this.modal;\n    this.nuevoAnuncio.idAnuncio = this.idAnuncio;    \n    this.showModal();\n  },\n\n  methods: {\n    showModal() {\n      if (this.modal) {\n        this.$refs[\"modal\"].show();\n      }\n    },\n\n    hideModal() {\n      this.$refs[\"modal\"].hide();\n      this.$emit(\"hide\", false);      \n    },\n\n    guardar() {\n      this.$refs[\"modal\"].hide();\n      this.$emit(\"hide\", false);\n    },\n\n    onSlideStart() {\n      this.sliding = true;\n    },\n    onSlideEnd() {\n      this.sliding = false;\n    },\n\n    openUpload() {\n      document.getElementById(\"formFile\").click();\n    },\n    selectImages(event) {\n      console.log('Entre a seleccionar imagenes')      \n      let reader = new FileReader();\n      let _this = this;\n\n      for (let index = 0; index < event.target.files.length; index++) {\n        this.upImages.push(event.target.files[index]);\n        reader.readAsDataURL(event.target.files[index]);\n\n        reader.onload = (e) => {\n          _this.previewImages.push(e.target.result);\n        };\n        reader = new FileReader();\n      }            \n    },\n\n    delImage(id) {\n      this.upImages.splice(id, 1);\n      this.previewImages.splice(id, 1);\n    },\n\n    save() {\n      let archivo;      \n      this.nuevoAnuncio.fecha = new Date()\n      db.collection('anuncios').add(this.nuevoAnuncio)      \n      for (let index = 0; index < this.upImages.length; index++ ) {        \n        archivo = storage.ref(`${this.nuevoAnuncio.idAnuncio.toString()}/${this.upImages[index].name}`)\n        archivo.put(this.upImages[index]).then(() => {\n          console.log('Archivo subido')\n        })        \n      }\n      this.previewImages = []\n      this.$emit('toast', 'success');\n      this.hideModal()\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn-outline-cancel {\n  color: #ff7402 !important;\n  border-color: #ff7402 !important;\n}\n\n.btn-outline-cancel:hover {\n  color: #fff !important;\n  background-color: #ff7402 !important;\n  border-color: #ff7402 !important;\n}\n\n.btn-outline-cancel:focus,\n.btn-outline-cancel.focus {\n  box-shadow: 0 0 0 0.2rem rgba(43, 147, 72, 0.5) !important;\n}\n</style>\n"]}]}