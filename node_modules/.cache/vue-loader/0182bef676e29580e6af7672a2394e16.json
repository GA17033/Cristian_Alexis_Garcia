{"remainingRequest":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\src\\views\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\src\\views\\Cart.vue","mtime":1637961253646},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiIH0gZnJvbSAiLi4vZGIiOwppbXBvcnQgTmF2YmFyIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2YmFyLnZ1ZSI7CmltcG9ydCBOdWV2b0FudW5jaW8gZnJvbSAiLi4vY29tcG9uZW50cy9OdWV2b0FudW5jaW8udnVlIjsKLy8gaW1wb3J0IFBpZSBmcm9tICIuLi9jb21wb25lbnRzL1BpZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnQiLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdmJhciwKICAgIE51ZXZvQW51bmNpbywKICAgIC8vIFBpZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RhbDogZmFsc2UsCiAgICAgIGNhcnJpdG86IFtdLAogICAgfTsKICB9LAoKICBmaXJlc3RvcmU6IHsKICAgIGFudW5jaW9zOiBkYi5jb2xsZWN0aW9uKCJhbnVuY2lvcyIpLAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG8gIT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuY2Fycml0byA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJyaXRvOwogICAgfQogIH0sCgogIGNvbXB1dGVkOiB7CiAgICB0b3RhbCgpIHsKICAgICAgbGV0IHRvdGFsUGFnbyA9IDAuMDsKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY2Fycml0by5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICB0b3RhbFBhZ28gPSB0b3RhbFBhZ28gKyB0aGlzLmNhcnJpdG9baW5kZXhdLnN1YnRvdGFsOwogICAgICB9CiAgICAgIHJldHVybiB0b3RhbFBhZ287CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGJ1c2NhcihjYWRlbmEpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJIb21lIiwKICAgICAgICBwYXJhbXM6IHsgY2Fycml0bzogdGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG8sIGNhZGVuYTogY2FkZW5hIH0sCiAgICAgIH0pOwogICAgfSwKCiAgICBtZW5vcyhpZCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG9baWRdLmNhbnRpZGFkID09IDEpIHsKICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2Fycml0by5zcGxpY2UoaWQsIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJyaXRvW2lkXS5jYW50aWRhZCA9CiAgICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2Fycml0b1tpZF0uY2FudGlkYWQgLSAxOwogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJyaXRvW2lkXS5zdWJ0b3RhbCA9CiAgICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2Fycml0b1tpZF0uY2FudGlkYWQgKgogICAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG9baWRdLnByb2R1Y3RvLnByZWNpbzsKICAgICAgfQogICAgfSwKCiAgICBtYXMoaWQpIHsKICAgICAgdGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG9baWRdLmNhbnRpZGFkID0KICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2Fycml0b1tpZF0uY2FudGlkYWQgKyAxOwogICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuY2Fycml0b1tpZF0uc3VidG90YWwgPQogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcy5jYXJyaXRvW2lkXS5jYW50aWRhZCAqCiAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zLmNhcnJpdG9baWRdLnByb2R1Y3RvLnByZWNpbzsKICAgIH0sCiAgICBnZXROZXh0SWQoKSB7CiAgICAgIHRoaXMuc2lndWllbnRlQW51bmNpbyA9IDA7CiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmFudW5jaW9zLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmICh0aGlzLmFudW5jaW9zW2luZGV4XS5pZEFudW5jaW8gPiB0aGlzLnNpZ3VpZW50ZUFudW5jaW8pIHsKICAgICAgICAgIHRoaXMuc2lndWllbnRlQW51bmNpbyA9IHRoaXMuYW51bmNpb3NbaW5kZXhdLmlkQW51bmNpbzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zaWd1aWVudGVBbnVuY2lvID0gdGhpcy5zaWd1aWVudGVBbnVuY2lvICsgMTsKICAgICAgY29uc29sZS5sb2codGhpcy5zaWd1aWVudGVBbnVuY2lvKTsKICAgIH0sCgogICAgc2hvd01vZGFsKG1vZGFsKSB7CiAgICAgIHRoaXMuZ2V0TmV4dElkKCk7CiAgICAgIHRoaXMubW9kYWwgPSBtb2RhbDsKICAgIH0sCgogICAgaGlkZU1vZGFsKG1vZGFsKSB7CiAgICAgIHRoaXMubW9kYWwgPSBtb2RhbDsKICAgIH0sCgogICAgc2hvd1RvYXN0KHZhcmlhbnQpIHsKICAgICAgbGV0IHRpdGxlID0gIiI7CiAgICAgIGxldCBjb250ZW50ID0gIiI7CiAgICAgIGlmICh2YXJpYW50KSB7CiAgICAgICAgaWYgKHZhcmlhbnQgPT09ICJpbmZvIikgewogICAgICAgICAgdGl0bGUgPSAiQ2Fycml0byI7CiAgICAgICAgICBjb250ZW50ID0gIlByb2R1Y3RvIGHDsWFkaWRvIGFsIGNhcnJpdG8uIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGl0bGUgPSAiTnVldm8gQW51bmNpbyI7CiAgICAgICAgICBjb250ZW50ID0gIkFudW5jaW8gY3JlYWRvIGNvcnJlY3RhbWVudGUiOwogICAgICAgIH0KICAgICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KGNvbnRlbnQsIHsKICAgICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICAgICAgICBzb2xpZDogdHJ1ZSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- NAVBAR -->\n    <navbar\n      @show=\"showModal\"\n      v-bind:carrito=\"$route.params.carrito\"\n      @buscar='buscar'\n      class=\"fixed-top\"\n      id=\"top\"\n      ref=\"top\"\n    ></navbar>\n    <!-- NAVBAR -->\n    <br /><br /><br />\n    <!-- <h1>{{$route.params.carrito}}</h1>     -->\n    <!-- MODAL -->\n    <nuevo-anuncio\n      v-if=\"modal === true\"\n      @hide=\"hideModal\"\n      @toast=\"showToast\"\n      v-bind:modal=\"modal\"\n      v-bind:idAnuncio=\"anuncios.length > 0 ? siguienteAnuncio : 1\"\n    ></nuevo-anuncio>\n    <!-- MODAL -->\n\n    <!-- CARDS -->\n    <div class=\"container-fluid mx-auto\">\n      <div class=\"ml-3 ml-md-5 mt-2 mb-3\" style=\"text-align: left\">\n        <span class=\"h3\" style=\"text-align: left\"\n          ><strong>Articulos en el Carrito</strong></span\n        >\n      </div>\n      <b-card\n        class=\"overflow-hidden box-shadow my-2\"\n        style=\"max-width: 99%\"\n        v-for=\"(anuncio, id) in $route.params.carrito\"\n        :key=\"id\"\n      >\n        <div class=\"row my-0 py-0\">\n          <div class=\"col col-6 col-md-2 my-auto py-0\">\n            <router-link\n              :to=\"{\n                name: 'Detalles',\n                params: {\n                  anuncio: anuncio.producto.idAnuncio,\n                  carrito: carrito,\n                },\n              }\"\n            >\n              <b-card-img\n                :src=\"anuncio.producto.imagen\"\n                alt=\"Image\"\n                class=\"rounded-0\"\n              ></b-card-img>\n            </router-link>\n          </div>\n\n          <div\n            class=\"col col-md-6 col-6 card-body pt-0 mr-auto\"\n            style=\"text-align: left\"\n          >\n            <div class=\"row\">\n              <router-link\n                :to=\"{\n                  name: 'Detalles',\n                  params: {\n                    anuncio: anuncio.producto.idAnuncio,\n                    carrito: carrito,\n                  },\n                }\"\n                style=\"color: black\"\n              >\n                <h2 class=\"card-title h4 mb-1\">\n                  {{ anuncio.producto.titulo }}\n                </h2>\n              </router-link>\n            </div>\n\n            <div class=\"row\">\n              <small class=\"text-muted my-auto\">Vendedor: &nbsp;</small>\n              <span class=\"badge badge-pill badge-secondary my-auto\"\n                ><b-icon-person class=\"mb-0\" />\n                {{ anuncio.producto.vendedor }}</span\n              >\n              &nbsp;\n              <small class=\"text-muted my-auto\"\n                >Tel: {{ anuncio.producto.telefono }}</small\n              >\n            </div>\n            <div class=\"row\">\n              <p class=\"card-text\">\n                <small class=\"text-muted\"\n                  >Estado: {{ anuncio.producto.estado }}</small\n                >\n              </p>\n            </div>\n            <div class=\"row\">\n              <h3 class=\"card-text h5\">${{ anuncio.producto.precio }}</h3>\n            </div>\n          </div>\n\n          <div class=\"col col-md-2 col-6\">\n            <div class=\"row mt-md-1\">\n              <span class=\"mx-auto my-auto mt-0 mb-0 h3\">\n                <strong>Cantidad</strong>\n              </span>\n            </div>\n            <div class=\"row mt-md-5 my-auto\">\n              <div class=\"mx-auto\">\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  variant=\"danger\"\n                  @click=\"menos(id)\"\n                  v-if=\"anuncio.cantidad == 1\"\n                >\n                  <font-awesome-icon :icon=\"['fas', 'trash']\" />\n                </b-button>\n\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  style=\"background-color: black\"\n                  @click=\"menos(id)\"\n                  v-if=\"anuncio.cantidad > 1\"\n                  ><font-awesome-icon :icon=\"['fas', 'minus']\" />\n                </b-button>\n                <div class=\"d-inline col-1\">\n                  {{ anuncio.cantidad }}\n                </div>\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  style=\"background-color: black\"\n                  @click=\"mas(id)\"\n                  ><font-awesome-icon :icon=\"['fas', 'plus']\"\n                /></b-button>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"col col-md-2 col-6\">\n            <div class=\"row mt-md-1\">\n              <span class=\"mx-auto my-auto mt-0 mb-0 h3\">\n                <strong>Subtotal</strong>\n              </span>\n            </div>\n            <div class=\"row mt-md-5 my-auto\">\n              <div class=\"mx-auto\">\n                <div class=\"d-inline col-1\">\n                  <span class=\"h1\">\n                    <strong>${{ anuncio.subtotal }}</strong>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-card>\n\n      <b-card class=\"overflow-hidden box-shadow my-2\" style=\"max-width: 99%\">\n        <div class=\"row\">\n          <div\n            class=\"text h4 text-uppercase col-12 col-md-6 my-auto\"\n            style=\"text-align: left\"\n          >\n            <strong>Total a pagar: ${{ total }}</strong>\n          </div>\n\n          <div\n            class=\"text-center col-12 col-md-6 my-auto\"\n            style=\"text-align: center\"\n          >\n        \n\n            <div class=\"d-md-inline\">\n              <button class=\"btn btn-outline-cancel px-4 px-xl-auto\">\n                FINALIZAR LA COMPRA &nbsp;\n                <b-icon-credit-card-fill class=\"my-auto\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </b-card>\n    </div>\n    <!-- CARDS -->\n  </div>\n</template>\n\n<script>\nimport { db } from \"../db\";\nimport Navbar from \"../components/Navbar.vue\";\nimport NuevoAnuncio from \"../components/NuevoAnuncio.vue\";\n// import Pie from \"../components/Pie.vue\";\nexport default {\n  name: \"Cart\",\n  components: {\n    Navbar,\n    NuevoAnuncio,\n    // Pie,\n  },\n  data() {\n    return {\n      modal: false,\n      carrito: [],\n    };\n  },\n\n  firestore: {\n    anuncios: db.collection(\"anuncios\"),\n  },\n\n  mounted() {\n    if (this.$route.params.carrito != undefined) {\n      this.carrito = this.$route.params.carrito;\n    }\n  },\n\n  computed: {\n    total() {\n      let totalPago = 0.0;\n      for (let index = 0; index < this.carrito.length; index++) {\n        totalPago = totalPago + this.carrito[index].subtotal;\n      }\n      return totalPago;\n    },\n  },\n\n  methods: {\n    buscar(cadena) {\n      this.$router.push({\n        name: \"Home\",\n        params: { carrito: this.$route.params.carrito, cadena: cadena },\n      });\n    },\n\n    menos(id) {\n      if (this.$route.params.carrito[id].cantidad == 1) {\n        this.$route.params.carrito.splice(id, 1);\n      } else {\n        this.$route.params.carrito[id].cantidad =\n          this.$route.params.carrito[id].cantidad - 1;\n        this.$route.params.carrito[id].subtotal =\n          this.$route.params.carrito[id].cantidad *\n          this.$route.params.carrito[id].producto.precio;\n      }\n    },\n\n    mas(id) {\n      this.$route.params.carrito[id].cantidad =\n        this.$route.params.carrito[id].cantidad + 1;\n      this.$route.params.carrito[id].subtotal =\n        this.$route.params.carrito[id].cantidad *\n        this.$route.params.carrito[id].producto.precio;\n    },\n    getNextId() {\n      this.siguienteAnuncio = 0;\n      for (let index = 0; index < this.anuncios.length; index++) {\n        if (this.anuncios[index].idAnuncio > this.siguienteAnuncio) {\n          this.siguienteAnuncio = this.anuncios[index].idAnuncio;\n        }\n      }\n      this.siguienteAnuncio = this.siguienteAnuncio + 1;\n      console.log(this.siguienteAnuncio);\n    },\n\n    showModal(modal) {\n      this.getNextId();\n      this.modal = modal;\n    },\n\n    hideModal(modal) {\n      this.modal = modal;\n    },\n\n    showToast(variant) {\n      let title = \"\";\n      let content = \"\";\n      if (variant) {\n        if (variant === \"info\") {\n          title = \"Carrito\";\n          content = \"Producto añadido al carrito.\";\n        } else {\n          title = \"Nuevo Anuncio\";\n          content = \"Anuncio creado correctamente\";\n        }\n        this.$bvToast.toast(content, {\n          title: title,\n          variant: variant,\n          solid: true,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn-outline-cancel {\n  color: purple !important;\n  border-color: purple !important;\n}\n\n.btn-outline-cancel:hover {\n  color: #fff !important;\n  background-color: purple!important;\n  border-color: purple !important;\n}\n\n.btn-outline-cancel:focus,\n.btn-outline-cancel.focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 123, 0, 0.5) !important;\n}\n\n.btn-outline-dark {\n  color: black !important;\n  border-color: black !important;\n}\n\n.btn-outline-dark:hover {\n  color: #fff !important;\n  background-color: black !important;\n  border-color: black !important;\n}\n\n.btn-outline-dark:focus,\n.btn-outline-dark.focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, 0.5) !important;\n}\n\n.box-shadow {\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n}\n</style>\n"]}]}