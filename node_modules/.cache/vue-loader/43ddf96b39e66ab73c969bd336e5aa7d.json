{"remainingRequest":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\src\\views\\Cart.vue?vue&type=style&index=0&id=c028c34c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\src\\views\\Cart.vue","mtime":1637961253646},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Pánfila\\Documents\\Vue\\CellphoneStore-main\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJ0bi1vdXRsaW5lLWNhbmNlbCB7CiAgY29sb3I6IHB1cnBsZSAhaW1wb3J0YW50OwogIGJvcmRlci1jb2xvcjogcHVycGxlICFpbXBvcnRhbnQ7Cn0KCi5idG4tb3V0bGluZS1jYW5jZWw6aG92ZXIgewogIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7CiAgYmFja2dyb3VuZC1jb2xvcjogcHVycGxlIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6IHB1cnBsZSAhaW1wb3J0YW50Owp9CgouYnRuLW91dGxpbmUtY2FuY2VsOmZvY3VzLAouYnRuLW91dGxpbmUtY2FuY2VsLmZvY3VzIHsKICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSgyNTUsIDEyMywgMCwgMC41KSAhaW1wb3J0YW50Owp9CgouYnRuLW91dGxpbmUtZGFyayB7CiAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWNvbG9yOiBibGFjayAhaW1wb3J0YW50Owp9CgouYnRuLW91dGxpbmUtZGFyazpob3ZlciB7CiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsKICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogIGJvcmRlci1jb2xvcjogYmxhY2sgIWltcG9ydGFudDsKfQoKLmJ0bi1vdXRsaW5lLWRhcms6Zm9jdXMsCi5idG4tb3V0bGluZS1kYXJrLmZvY3VzIHsKICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSgwLCAwLCAwLCAwLjUpICFpbXBvcnRhbnQ7Cn0KCi5ib3gtc2hhZG93IHsKICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMzUpIDBweCA1cHggMTVweDsKfQo="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAySA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- NAVBAR -->\n    <navbar\n      @show=\"showModal\"\n      v-bind:carrito=\"$route.params.carrito\"\n      @buscar='buscar'\n      class=\"fixed-top\"\n      id=\"top\"\n      ref=\"top\"\n    ></navbar>\n    <!-- NAVBAR -->\n    <br /><br /><br />\n    <!-- <h1>{{$route.params.carrito}}</h1>     -->\n    <!-- MODAL -->\n    <nuevo-anuncio\n      v-if=\"modal === true\"\n      @hide=\"hideModal\"\n      @toast=\"showToast\"\n      v-bind:modal=\"modal\"\n      v-bind:idAnuncio=\"anuncios.length > 0 ? siguienteAnuncio : 1\"\n    ></nuevo-anuncio>\n    <!-- MODAL -->\n\n    <!-- CARDS -->\n    <div class=\"container-fluid mx-auto\">\n      <div class=\"ml-3 ml-md-5 mt-2 mb-3\" style=\"text-align: left\">\n        <span class=\"h3\" style=\"text-align: left\"\n          ><strong>Articulos en el Carrito</strong></span\n        >\n      </div>\n      <b-card\n        class=\"overflow-hidden box-shadow my-2\"\n        style=\"max-width: 99%\"\n        v-for=\"(anuncio, id) in $route.params.carrito\"\n        :key=\"id\"\n      >\n        <div class=\"row my-0 py-0\">\n          <div class=\"col col-6 col-md-2 my-auto py-0\">\n            <router-link\n              :to=\"{\n                name: 'Detalles',\n                params: {\n                  anuncio: anuncio.producto.idAnuncio,\n                  carrito: carrito,\n                },\n              }\"\n            >\n              <b-card-img\n                :src=\"anuncio.producto.imagen\"\n                alt=\"Image\"\n                class=\"rounded-0\"\n              ></b-card-img>\n            </router-link>\n          </div>\n\n          <div\n            class=\"col col-md-6 col-6 card-body pt-0 mr-auto\"\n            style=\"text-align: left\"\n          >\n            <div class=\"row\">\n              <router-link\n                :to=\"{\n                  name: 'Detalles',\n                  params: {\n                    anuncio: anuncio.producto.idAnuncio,\n                    carrito: carrito,\n                  },\n                }\"\n                style=\"color: black\"\n              >\n                <h2 class=\"card-title h4 mb-1\">\n                  {{ anuncio.producto.titulo }}\n                </h2>\n              </router-link>\n            </div>\n\n            <div class=\"row\">\n              <small class=\"text-muted my-auto\">Vendedor: &nbsp;</small>\n              <span class=\"badge badge-pill badge-secondary my-auto\"\n                ><b-icon-person class=\"mb-0\" />\n                {{ anuncio.producto.vendedor }}</span\n              >\n              &nbsp;\n              <small class=\"text-muted my-auto\"\n                >Tel: {{ anuncio.producto.telefono }}</small\n              >\n            </div>\n            <div class=\"row\">\n              <p class=\"card-text\">\n                <small class=\"text-muted\"\n                  >Estado: {{ anuncio.producto.estado }}</small\n                >\n              </p>\n            </div>\n            <div class=\"row\">\n              <h3 class=\"card-text h5\">${{ anuncio.producto.precio }}</h3>\n            </div>\n          </div>\n\n          <div class=\"col col-md-2 col-6\">\n            <div class=\"row mt-md-1\">\n              <span class=\"mx-auto my-auto mt-0 mb-0 h3\">\n                <strong>Cantidad</strong>\n              </span>\n            </div>\n            <div class=\"row mt-md-5 my-auto\">\n              <div class=\"mx-auto\">\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  variant=\"danger\"\n                  @click=\"menos(id)\"\n                  v-if=\"anuncio.cantidad == 1\"\n                >\n                  <font-awesome-icon :icon=\"['fas', 'trash']\" />\n                </b-button>\n\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  style=\"background-color: black\"\n                  @click=\"menos(id)\"\n                  v-if=\"anuncio.cantidad > 1\"\n                  ><font-awesome-icon :icon=\"['fas', 'minus']\" />\n                </b-button>\n                <div class=\"d-inline col-1\">\n                  {{ anuncio.cantidad }}\n                </div>\n                <b-button\n                  size=\"lg\"\n                  class=\"d-inline\"\n                  style=\"background-color: black\"\n                  @click=\"mas(id)\"\n                  ><font-awesome-icon :icon=\"['fas', 'plus']\"\n                /></b-button>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"col col-md-2 col-6\">\n            <div class=\"row mt-md-1\">\n              <span class=\"mx-auto my-auto mt-0 mb-0 h3\">\n                <strong>Subtotal</strong>\n              </span>\n            </div>\n            <div class=\"row mt-md-5 my-auto\">\n              <div class=\"mx-auto\">\n                <div class=\"d-inline col-1\">\n                  <span class=\"h1\">\n                    <strong>${{ anuncio.subtotal }}</strong>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </b-card>\n\n      <b-card class=\"overflow-hidden box-shadow my-2\" style=\"max-width: 99%\">\n        <div class=\"row\">\n          <div\n            class=\"text h4 text-uppercase col-12 col-md-6 my-auto\"\n            style=\"text-align: left\"\n          >\n            <strong>Total a pagar: ${{ total }}</strong>\n          </div>\n\n          <div\n            class=\"text-center col-12 col-md-6 my-auto\"\n            style=\"text-align: center\"\n          >\n        \n\n            <div class=\"d-md-inline\">\n              <button class=\"btn btn-outline-cancel px-4 px-xl-auto\">\n                FINALIZAR LA COMPRA &nbsp;\n                <b-icon-credit-card-fill class=\"my-auto\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </b-card>\n    </div>\n    <!-- CARDS -->\n  </div>\n</template>\n\n<script>\nimport { db } from \"../db\";\nimport Navbar from \"../components/Navbar.vue\";\nimport NuevoAnuncio from \"../components/NuevoAnuncio.vue\";\n// import Pie from \"../components/Pie.vue\";\nexport default {\n  name: \"Cart\",\n  components: {\n    Navbar,\n    NuevoAnuncio,\n    // Pie,\n  },\n  data() {\n    return {\n      modal: false,\n      carrito: [],\n    };\n  },\n\n  firestore: {\n    anuncios: db.collection(\"anuncios\"),\n  },\n\n  mounted() {\n    if (this.$route.params.carrito != undefined) {\n      this.carrito = this.$route.params.carrito;\n    }\n  },\n\n  computed: {\n    total() {\n      let totalPago = 0.0;\n      for (let index = 0; index < this.carrito.length; index++) {\n        totalPago = totalPago + this.carrito[index].subtotal;\n      }\n      return totalPago;\n    },\n  },\n\n  methods: {\n    buscar(cadena) {\n      this.$router.push({\n        name: \"Home\",\n        params: { carrito: this.$route.params.carrito, cadena: cadena },\n      });\n    },\n\n    menos(id) {\n      if (this.$route.params.carrito[id].cantidad == 1) {\n        this.$route.params.carrito.splice(id, 1);\n      } else {\n        this.$route.params.carrito[id].cantidad =\n          this.$route.params.carrito[id].cantidad - 1;\n        this.$route.params.carrito[id].subtotal =\n          this.$route.params.carrito[id].cantidad *\n          this.$route.params.carrito[id].producto.precio;\n      }\n    },\n\n    mas(id) {\n      this.$route.params.carrito[id].cantidad =\n        this.$route.params.carrito[id].cantidad + 1;\n      this.$route.params.carrito[id].subtotal =\n        this.$route.params.carrito[id].cantidad *\n        this.$route.params.carrito[id].producto.precio;\n    },\n    getNextId() {\n      this.siguienteAnuncio = 0;\n      for (let index = 0; index < this.anuncios.length; index++) {\n        if (this.anuncios[index].idAnuncio > this.siguienteAnuncio) {\n          this.siguienteAnuncio = this.anuncios[index].idAnuncio;\n        }\n      }\n      this.siguienteAnuncio = this.siguienteAnuncio + 1;\n      console.log(this.siguienteAnuncio);\n    },\n\n    showModal(modal) {\n      this.getNextId();\n      this.modal = modal;\n    },\n\n    hideModal(modal) {\n      this.modal = modal;\n    },\n\n    showToast(variant) {\n      let title = \"\";\n      let content = \"\";\n      if (variant) {\n        if (variant === \"info\") {\n          title = \"Carrito\";\n          content = \"Producto añadido al carrito.\";\n        } else {\n          title = \"Nuevo Anuncio\";\n          content = \"Anuncio creado correctamente\";\n        }\n        this.$bvToast.toast(content, {\n          title: title,\n          variant: variant,\n          solid: true,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn-outline-cancel {\n  color: purple !important;\n  border-color: purple !important;\n}\n\n.btn-outline-cancel:hover {\n  color: #fff !important;\n  background-color: purple!important;\n  border-color: purple !important;\n}\n\n.btn-outline-cancel:focus,\n.btn-outline-cancel.focus {\n  box-shadow: 0 0 0 0.2rem rgba(255, 123, 0, 0.5) !important;\n}\n\n.btn-outline-dark {\n  color: black !important;\n  border-color: black !important;\n}\n\n.btn-outline-dark:hover {\n  color: #fff !important;\n  background-color: black !important;\n  border-color: black !important;\n}\n\n.btn-outline-dark:focus,\n.btn-outline-dark.focus {\n  box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, 0.5) !important;\n}\n\n.box-shadow {\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n}\n</style>\n"]}]}